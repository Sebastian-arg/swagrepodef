/* Importación de fuentes y Font Awesome (para iconos) */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css');

:host {
    /* Fondo que se ve detrás de los elementos principales */
    display: block;
    width: 100%;

    height: 100vh;
    font-family: 'Inter', sans-serif;
    
}

/* PALETA DE COLORES */
:root {
    --primary-color: #752174; /* Morado/Berenjena - Principal, Botones, Active */
    --secondary-color: #F0ECC1; /* Amarillo Pálido - Fondo Main Content */
    --accent-color: #E4A0A6; /* Rosa Suave - Hover, Detalles, Hoy Borde */
    --right-sidebar-bg: #892D88; /* Morado/Fucsia (Color de la sidebar derecha en la imagen) */
    --dark-color: #581971; /* Detalles más profundos */
    --text-main: #3B103A; /* Texto principal */
    --text-soft: #6B4C6E; /* Texto secundario */
    --text-light: #FFFFFF;
    --today-bg: #FFE3EB; /* Fondo del día de hoy (Rosa claro) */
}

/* ----------------------------------------------------
 * 1. LAYOUT PRINCIPAL (3 COLUMNAS)
 * ----------------------------------------------------
 */
.app-container {
    display: grid;
    /* Ajuste de columnas: Sidebar Izq (240px) | Main (1fr) | Sidebar Der (280px) */
    grid-template-columns: 240px 1fr 280px;
    height: 100%;
    width: 100% !important;
    overflow: hidden;
    grid-template-columns: 240px 1fr; /* Quita la tercera columna */
}

@media (max-width: 1024px) {
    /* En tabletas, la sidebar se encoge */
    .app-container {
        grid-template-columns: 80px 1fr 280px;
    }
}

@media (max-width: 768px) {
     /* En móviles, la sidebar izquierda desaparece y la derecha se apila o se mueve */
     .app-container {
         grid-template-columns: 1fr;
     }
    .sidebar { display: none; }
    /* La sidebar derecha se muestra al final en la vista móvil */
    
}


/* ----------------------------------------------------
 * 2. SIDEBAR IZQUIERDA
 * ----------------------------------------------------
 */
.sidebar {
    background-color: #FFFFFF;
    padding: 24px 16px;
    box-shadow: 2px 0 10px rgba(0, 0, 0, 0.05);
    display: flex;
    flex-direction: column;
}

.logo-container {
    display: flex;
    align-items: center;
    margin-bottom: 2rem;
    color: var(--primary-color);
    justify-content: center;
}
.logo-icon {
    font-size: 1.5rem;
    margin-right: 8px;
}
.logo {
    font-size: 1.5rem;
    font-weight: 700;
    margin: 0;
    
}

@media (max-width: 1024px) {
    .sidebar {
        width: 80px; 
        padding: 24px 8px;
    }
    .logo-container { justify-content: center; }
    .logo { display: none; }
}


.menu a, .menu .menu-item { /* Estilo tanto para <a> como para el <button> */
    display: flex;
    align-items: center;
    padding: 12px 16px;
    margin-bottom: 8px;
    border-radius: 8px;
    text-decoration: none;
    color: var(--text-soft);
    font-weight: 500;
    transition: all 0.2s;
    background: none; /* Reset para el botón */
    border: none; /* Reset para el botón */
    width: 100%;
    text-align: left;
    cursor: pointer;
}

.menu a i, .menu .menu-item i {
    margin-right: 12px;
    width: 20px;
    color: var(--primary-color);
}
/* Estilo activo para "Calendario" */
.menu a.active {
    background-color: var(--primary-color);
    color: white;
    font-weight: 600;
}
.menu a.active i {
    color: white; /* Icono blanco en el item activo */
}

.menu a:hover, .menu .menu-item:hover {
    background-color: var(--accent-color);
    color: var(--dark-color);
}


@media (max-width: 1024px) {
    .menu a span, .menu .menu-item span { display: none; }
    .menu a, .menu .menu-item { justify-content: center; padding: 12px 0; }
    .menu a i, .menu .menu-item i { margin-right: 0; }
}

/* ----------------------------------------------------
 * 3. MAIN CONTENT
 * ----------------------------------------------------
 */
.main-content {
    background: linear-gradient(135deg, #004aad, #cb6ce6);
    overflow-y: auto;
    padding: 24px;
}

/* HEADER */
.header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #FFFFFF;
    padding: 12px 24px; /* Un poco menos de padding vertical */
    border-radius: 12px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    margin-bottom: 24px;
}

.header .left, .header .right {
    display: flex;
    align-items: center;
    gap: 12px;
}

.btn-home {
    background-color: var(--primary-color);
    color: white;
    padding: 8px 16px;
    border-radius: 8px;
    font-weight: 500;
    transition: background-color 0.2s;
    border: none;
}
.btn-home:hover { background-color: var(--dark-color); }
.btn-home i { margin-right: 5px; }


.btn-logout {
    background: var(--primary-color); /* Color sólido como en la imagen */
    border: none;
    color: white;
    padding: 8px 16px;
    border-radius: 8px;
    font-weight: 500;
    transition: all 0.2s;
}
.btn-logout i { margin-right: 5px; }
.btn-logout:hover { background-color: var(--dark-color); }


/* ----------------------------------------------------
 * 4. CALENDAR VIEW
 * ----------------------------------------------------
 */
.calendar-view {
    background-color: #FFFFFF;
    border-radius: 12px;
    padding: 24px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.calendar-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    flex-wrap: wrap; 
    gap: 12px;
}

.month-year {
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--text-main);
    flex-grow: 1; 
    text-align: center;
    margin: 0;
}

.nav-buttons {
    display: flex;
    gap: 8px;
}

.control-btn {
    background: var(--secondary-color);
    border: none;
    padding: 8px 12px;
    border-radius: 8px;
    font-weight: 600;
    color: var(--text-main);
    transition: background-color 0.2s;
    min-width: 40px;
    cursor: pointer;
}
.control-btn:hover { background-color: var(--accent-color); }

.view-switch {
    display: flex;
    border: 1px solid var(--primary-color);
    border-radius: 8px;
    overflow: hidden;
}

.view-btn {
    background: none;
    border: none;
    padding: 8px 16px;
    color: var(--text-soft);
    font-weight: 500;
    transition: background-color 0.2s;
    cursor: pointer;
}

.view-btn.active {
    background-color: var(--primary-color);
    color: white;
    font-weight: 600;
}

/* CALENDAR GRID */
.calendar-month-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 1px; 
    background-color: var(--accent-color); /* Color de línea de cuadrícula */
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid var(--accent-color);
    min-height: 550px; /* Altura mínima para que se parezca a la imagen */
}

.day-name {
    text-align: center;
    font-weight: 600;
    color: var(--text-soft);
    padding: 8px 0;
    background-color: #fff6fb;
    font-size: 0.875rem; 
}

.calendar-day {
    min-height: 100px;
    background-color: #FFFFFF;
    padding: 8px;
    text-align: right;
    color: var(--text-soft);
    display: flex;
    flex-direction: column;
    align-items: flex-start; /* Alinea los números del día a la izquierda */
    position: relative;
    cursor: pointer;
    transition: background-color 0.1s;
    /* Estilos del día */
    border: 1px solid transparent; 
}
.calendar-day span:first-child {
    align-self: flex-end; /* Mueve el número a la derecha (como en la imagen) */
}

.calendar-day:hover {
    background: linear-gradient(135deg, #004aad, #cb6ce6);
}

.calendar-day.is-current-month {
    color: var(--text-main);
}

.calendar-day.is-today {
    background-color: var(--today-bg); /* Fondo del día de hoy */
    border: 1px solid var(--accent-color); 
    z-index: 10; 
}

/* Marca de Evento/Tarea */
/* ---------- MARCADORES EN EL CALENDARIO ---------- */
.event-marker {
  font-size: 0.75rem;
  padding: 2px 6px;
  border-radius: 4px;
  margin-top: 4px;
  display: inline-block;
  font-weight: 600;
}

/* Evento: morado */
.event-marker.evento {
  background-color: #E4A0A6; /* rosa pastel */
  color: #581971; /* morado oscuro */
}

/* Tarea: azul */
.event-marker.tarea {
  background-color: #C9E6FF; /* celeste suave */
  color: #00529B; /* azul fuerte */
}



.right-sidebar-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 20px 0;
}

.right-sidebar-content h3 {
    font-size: 1.25rem;
    margin-bottom: 20px;
    font-weight: 700;
}

.right-sidebar .btn-nuevo-evento {
    background-color: white;
    color: var(--right-sidebar-bg);
    font-weight: 600;
    padding: 10px 18px;
    border-radius: 6px;
    cursor: pointer;
    border: none;
    font-size: 0.95rem;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    margin-bottom: 30px;
}

.right-sidebar .empty-state {
    font-size: 0.9rem;
    opacity: 0.9;
    color: #f7e6f3;
}


/* ----------------------------------------------------
 * 6. MODAL STYLES (Fusionados con variables)
 * ----------------------------------------------------
 */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 99;
}

.modal {
  background: #fff;
  width: 520px;
  max-width: calc(100% - 32px);
  border-radius: 10px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.2);
  padding: 16px;
  display: flex;
  top: 0;
  bottom: 0;
  right: 0;
  left: 0;
  flex-direction: column;
  gap: 12px;
  z-index: 99;
}

/* Cabecera modal */
.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.modal-header h2 { margin: 0; font-size: 1.15rem; color: var(--primary-color); }
.btn-close {
  background: transparent;
  border: none;
  font-size: 1.05rem;
  cursor: pointer;
  color: #666;
}

/* Top actions */
.modal-actions-top {
  display: flex;
  gap: 12px;
  align-items: center;
  justify-content: flex-start;
}
.btn-primary {
  background: var(--primary-color);
  color: #fff;
  border: none;
  padding: 8px 12px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
}
.muted { color: var(--text-soft); font-size: 0.9rem; }

/* Lista de eventos */
.event-list {
  max-height: 720px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding-right: 6px;
}
.empty { color: var(--text-soft); padding: 12px 6px; }

/* cada item */
.event-item {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 8px;
  padding: 10px;
  border-radius: 8px;
  background: #fafafa;
  border: 1px solid var(--accent-color);
}
.event-info { flex: 1; }
.event-title { font-weight: 600; color: var(--dark-color); }
.event-date { font-size: 0.85rem; color: var(--primary-color); margin-top: 4px; text-transform: capitalize; }
.event-desc { font-size: 0.85rem; color: #444; margin-top: 6px; }

/* acciones item */
.event-actions { display:flex; gap:8px; }
.btn-sm {
  padding: 6px 8px;
  border-radius: 6px;
  border: 1px solid var(--accent-color);
  background: white;
  cursor: pointer;
  font-size: 0.8rem;
  color: var(--text-soft);
}
.btn-sm.danger { border-color: #ff6b6b; color: #b91c1c; }

/* Formulario */
.form-divider { border-color: var(--accent-color); opacity: 0.5; margin: 0; }
.form-section label { font-size: 0.85rem; margin-top: 6px; display:block; color: var(--dark-color); }
.form-section h3 { font-size: 1.1rem; color: var(--dark-color); margin-bottom: 8px; }

.form-section input[type="text"],
.form-section input[type="date"],
.form-section textarea {
  width: 100%;
  box-sizing: border-box;
  padding: 8px;
  border-radius: 6px;
  border: 1px solid var(--accent-color);
  margin-top: 4px;
}
.form-actions {
  display:flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 15px;
}
.btn-cancel {
  background: #e5e7eb;
  border: none;
  padding: 8px 12px;
  border-radius: 8px;
  cursor: pointer;
  color: #444;
}
.btn-save {
  background: var(--primary-color);
  color: white;
  border: none;
  padding: 8px 12px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
}

/* ----------------------------------------------------
 * 7. PERFIL + CERRAR SESIÓN EN LA SIDEBAR
 * ---------------------------------------------------- */
.sidebar-footer {
    margin-top: auto;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-top: 16px;
    border-top: 1px solid rgba(0,0,0,0.1);
}

.sidebar-footer .profile-img {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid var(--accent-color);
    margin-bottom: 12px;
}

.sidebar-footer .btn-logout {
    background-color: var(--primary-color);
    color: white;
    border: none;
    border-radius: 8px;
    padding: 8px 14px;
    cursor: pointer;
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 6px;
    transition: background-color 0.2s;
}

.sidebar-footer .btn-logout:hover {
    background-color: var(--accent-color);
}

@media (max-width: 1024px) {
    .sidebar-footer span { display: none; } /* oculta texto y deja solo el ícono */
    .sidebar-footer .btn-logout { justify-content: center; width: 100%; }
}


/* ----------------------------------------------------
 * 8. Modal Tareas
 * ---------------------------------------------------- */
.tareas-modal {
  border-top: 6px solid #478BF0; /* azul */
}

.tareas-modal .modal-header h2 {
  color: var(--primary-color);
}

.toggle-container {
  display: flex;
  align-items: center;
  gap: 8px;
  margin: 10px 0;
}

.switch {
  position: relative;
  display: inline-block;
  width: 44px;
  height: 24px;
}

.switch input { opacity: 0; width: 0; height: 0; }

.slider {
  position: absolute;
  cursor: pointer;
  inset: 0;
  background-color: #ccc;
  border-radius: 24px;
  transition: 0.3s;
}

.slider:before {
  position: absolute;
  content: "";
  height: 18px;
  width: 18px;
  left: 3px;
  bottom: 3px;
  background-color: white;
  border-radius: 50%;
  transition: 0.3s;
}

input:checked + .slider {
  background-color: var(--primary-color);
}

input:checked + .slider:before {
  transform: translateX(20px);
}
